{"version":3,"sources":["webpack:///../actions/events.js","webpack:///../components/blocks/eventThumb.js","webpack:///../components/common/heading.js","webpack:///../components/common/lazyImage.js","webpack:///../components/common/placeholder.js","webpack:///../components/common/resultsContainer.js","webpack:///../components/common/spin.js","webpack:///../components/pages/band.js","webpack:///../components/utils/routePromise.js"],"names":["fetchEvents","bandName","dispatch","type","ARTISTS_URL","API_KEY","then","resp","json","data","error","payload","catch","e","EventContainer","styled","div","device","mobileS","mobileL","tablet","laptop","EventName","mainColor","EventDate","EventCountry","EventCity","LinupHeading","LineupBand","LineupMore","props","venue","name","country","region","city","latitude","longitude","datetime","description","lineup","format","length","splice","map","band","key","h1","Preloader","height","width","LazyImage","src","state","loaded","Image","image","updateImage","onload","setState","prevProps","prevState","title","PureComponent","InnnerText","span","Container","Spin","keyframes","EventsContainer","BandWall","BandContainer","BandThumb","BandDetails","BandTitle","BandButton","Button","BandPage","store","search","favourite","events","WithRoutePromises","match","params","preventDefault","fetched","pending","image_url","thumb_url","facebook_page_url","inFavourites","indexOf","toggleFavourite","event","nextProps","prevBand","window","promises","push","RoutePromise","RoutePromiseProvider","Provider","Component"],"mappings":"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","file":"4.js","sourcesContent":["import { API_KEY, ARTISTS_URL } from 'settings/api'\nimport { get } from 'actions/utils'\n\n// Fetching band's events\nexport const fetchEvents = ( bandName ) => {\n\n    return ( dispatch ) => {\n\n        dispatch( {\n            type: 'EVENTS_PENDING'\n        } )\n\n        return get( `${ARTISTS_URL}/${bandName}/events/?app_id=${API_KEY}`)\n        .then( ( resp ) => resp.json() )\n        .then( ( data ) => {\n            return ( data && !data.error ) ?\n                dispatch( {\n                    type: 'EVENTS_FULFILLED',\n                    payload: data,\n                } )\n            : dispatch( {\n                type: 'EVENTS_NO_RESULT',\n                payload: null,\n            } )\n        } )\n        .catch( (e ) => {\n            return dispatch( {\n                type: 'EVENTS_REJECTED',\n            } )\n        } )\n    }\n\n}\n","import React from 'react'\nimport LazyImage from 'components/common/lazyImage'\nimport styled from 'styled-components'\nimport { Link } from 'react-router-dom'\nimport { mainColor } from 'components/variables/colors'\nimport moment from 'moment'\nimport { device } from 'components/variables/media'\n\nconst EventContainer = styled.div`\n    display: block;\n    width: 100%;\n    padding: 12px 12px 40px;\n    background: #080808;\n    min-height: 200px;\n    border-bottom: 1px solid #000;\n    &:nth-child(2n){\n        background: #121212;\n    }\n    &:hover{\n        background: #000000;\n    }\n    @media ${device.mobileS} {\n        width: 100%;\n    }\n    @media ${device.mobileL} {\n        width: 50%;\n    }\n    @media ${device.tablet} {\n        width: 33.333%;\n    }\n    @media ${device.laptop} {\n        width: 25%;\n    }\n`\n\nconst EventName = styled.div`\n    font-size: 2.6rem;\n    color: ${mainColor};\n    margin: 12px 0px;\n    line-height: 3rem;\n    text-transform: uppercase;\n`\n\nconst EventDate = styled.div`\n    display: block;\n    font-size: 1.8rem;\n    color: #E0E0E0;\n    margin: 12px 0px;\n`\n\nconst EventCountry = styled.div`\n    display: block;\n    margin: 12px 0px 6px;\n    color: #9E9E9E;\n    font-size: 1.8rem;\n`\nconst EventCity = styled.div`\n    display: block;\n    margin: 6px 0px 12px;\n    color: #757575;\n    font-size: 1.5rem;\n`\n\nconst LinupHeading = styled.div`\n    display: block;\n    font-size: 1.8rem;\n    margin: 24px 0px 6px;\n    color: #424242;\n`\n\nconst LineupBand = styled.div`\n    display: block;\n    font-size: 1.6rem;\n    line-height: 2rem;\n    > a {\n        color: #9E9E9E;\n        text-decoration: none;\n        &:hover{\n            color: ${mainColor};\n        }\n    }\n`\n\nconst LineupMore = styled.div`\n    display: block;\n    font-size: 1.6rem;\n    line-height: 2rem;\n    color: #757575;\n`\n\nexport default ( props ) => {\n    const { venue: { name, country, region, city, latitude, longitude }, datetime, description, lineup } = props\n    return (\n        <EventContainer>\n            <EventDate>{ moment( datetime ).format('D MMM') }</EventDate>\n            <EventName>{ name }</EventName>\n            <EventCountry>{ country }</EventCountry>\n            <EventCity>{ city }{ ( region ) ? `, ${region}` : null }</EventCity>\n            {\n                ( lineup.length > 1 ) ? (\n                    [\n                        <LinupHeading key={ 0 }>Lineup:</LinupHeading>,\n                        lineup.splice(0, 10).map( ( band, key ) => {\n                            return (\n                                <LineupBand key={ key }>\n                                    <Link to={ `/band/${band}` }>{ band }</Link>\n                                </LineupBand>\n                            )\n                        } ),\n                        ( lineup.length > 10 ) ? <LineupMore>and { lineup.length - 10 } more</LineupMore> : null\n                    ]\n                ) : null\n            }\n        </EventContainer>\n    )\n\n}\n","import styled from 'styled-components'\nimport { device } from 'components/variables/media'\n\nexport default styled.h1`\n    font-size: 2rem;\n    font-weight: normal;\n    margin: 24px 0px;\n    @media ${device.tablet} {\n      font-size: 3rem;\n      margin: 32px 0px;\n    }\n`\n","import React, { PureComponent } from 'react'\nimport styled from 'styled-components'\n\nconst Preloader = styled.div`\n    display: block;\n    height: ${ props => ( props.height ) ? `${props.height}px` : '100px' };\n    width: ${ props => ( props.width ) ? `${props.width}px` : '100px' };\n    background: #E0E0E0;\n    display: inline-block;\n    vertical-align: middle;\n    > img {\n        position: relative;\n        max-width: 100%;\n        max-height: 100%;\n    }\n`\n\nexport default class LazyImage extends PureComponent {\n\n    constructor ( props ) {\n\n        super( props )\n\n        const { src } = props\n\n        this.state = {\n            loaded: false,\n            src: null,\n        }\n\n        this.Image = null\n\n\n\n    }\n\n    componentDidMount () {\n\n        const { image } = this.props\n        this.updateImage( image )\n\n    }\n\n    updateImage( src ) {\n\n        this.Image = new Image()\n        this.Image.onload = ( e ) => {\n            this.setState( {\n                loaded: true,\n                src: src,\n            } )\n        }\n        return this.Image.src = src\n\n    }\n\n    componentWillUnmount () {\n        this.Image.onload = null\n    }\n\n    componentDidUpdate( prevProps, prevState ) {\n\n        const { image } = this.props\n        if ( prevProps.image !== image ) {\n            this.updateImage( image )\n        }\n\n    }\n\n    render () {\n\n        const title = this.props.title || ''\n        const { loaded, src } = this.state\n\n        return (\n            <Preloader { ...this.props }>\n                { ( loaded ) ? <img src={ src } alt={ title } title={ title } /> : null }\n            </Preloader>\n        )\n    }\n\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { device } from 'components/variables/media'\n\nconst InnnerText = styled.span`\n    display: inline-block;\n    vertical-align: middle;\n    line-height: 1;\n`\n\nconst Container = styled.div`\n    display: block;\n    text-align: center;\n    color: #9E9E9E;\n    font-size: 2rem;\n    line-height: 160px;\n    padding: 0px 12px;\n    text-align: center;\n    width: 100%;\n    @media ${device.tablet} {\n      font-size: 3rem;\n    }\n`\n\nexport default ( props ) => {\n    return (\n      <Container>\n        <InnnerText { ...props } />\n      </Container>\n    )\n}\n","import styled from 'styled-components'\nimport Spin from 'components/common/spin'\nimport { mainColor } from 'components/variables/colors'\nimport { device } from 'components/variables/media'\n\nexport default styled.div`\n    display: block;\n    border: 1px solid #e0e0e0;\n    border-radius 2px;\n    min-height: 160px;\n    position: relative;\n    margin: 32px 0px;\n    &.loading:before{\n        display: block;\n        position: absolute;\n        content: '';\n        width: 32px;\n        height: 32px;\n        border-radius: 50%;\n        animation: ${Spin} 2s linear infinite;\n        border: 6px solid #E0E0E0;\n        border-top: 6px solid ${mainColor};\n        top: 16px;\n        left: 50%;\n        margin-left: -28px;\n    }\n    @media ${device.tablet} {\n      margin: 60px 0px;\n    }\n`\n","import { keyframes } from 'styled-components'\n\nexport default keyframes`\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n`\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { fetchBand, pushFavouriteBand, resetBand } from 'actions/band'\nimport { fetchEvents } from 'actions/events'\nimport styled, { keyframes } from 'styled-components'\nimport EventThumb from 'components/blocks/eventThumb'\nimport LazyImage from 'components/common/lazyImage'\nimport Button from 'components/common/button'\nimport Heading from 'components/common/heading'\nimport ResultsContainer from 'components/common/resultsContainer'\nimport Placeholder from 'components/common/placeholder'\nimport Container from 'components/common/container'\nimport Spin from 'components/common/spin'\nimport { mainColor, mainColorDark } from 'components/variables/colors'\nimport { device } from 'components/variables/media'\nimport { WithRoutePromises } from 'components/utils/routePromise'\n\nconst EventsContainer = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    border-radius 2px;\n    min-height: 160px;\n    position: relative;\n    margin: 0px -12px;\n    background: #F5F5F5;\n    &.loading:before{\n        display: block;\n        position: absolute;\n        content: '';\n        width: 32px;\n        height: 32px;\n        border-radius: 50%;\n        animation: ${Spin} 2s linear infinite;\n        border: 6px solid #E0E0E0;\n        border-top: 6px solid ${mainColor};\n        top: 16px;\n        left: 50%;\n        margin-left: -28px;\n    }\n    > span {\n        display: block;\n        width: 100%;\n    }\n`\n\nconst BandWall = styled.div`\n    display: block;\n    padding: 80px 0px;\n    background: ${ ( props ) => ( props.image ) ? `url(${ props.image }) #FAFAFA` : '#FAFAFA' };\n    @media ${device.tablet} {\n        margin-top: -80px;\n    }\n`\n\nconst BandContainer = styled(Container)`\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    @media ${device.tablet} {\n        flex-wrap: nowrap;\n        justify-content: flex-start;\n    }\n`\nconst BandThumb = styled.div`\n    display: block;\n    height: 200px;\n    width: 200px;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, .7);\n    order: 1;\n    @media ${device.tablet} {\n        order: 0;\n        width: 200px;\n    }\n`\n\nconst BandDetails = styled.div`\n    display: block;\n    padding: 6px 12px;\n    order: 0;\n    width: 100%;\n    margin-bottom: 24px;\n    @media ${device.tablet} {\n        order: 1;\n        width: auto;\n    }\n`\n\nconst BandTitle = styled.h1`\n    display: block;\n    color: #fff;\n    font-size: 3rem;\n    text-shadow: 0px 1px 1px rgba(0, 0, 0, .7);\n`\n\nconst BandButton = styled(Button)`\n    border-radius: 50%;\n    margin-right: 12px;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, .7);\n    height: 42px;\n    min-width: 42px;\n    line-height: 42px;\n    font-size: 2rem;\n    padding: 0px;\n`\n\n@connect( ( store ) => {\n    return {\n        search: store.search,\n        band: store.band,\n        favourite: store.favourite,\n        events: store.events,\n    }\n} )\n\n\n@WithRoutePromises\n\nexport default class BandPage extends PureComponent {\n\n    constructor ( props ) {\n        super( props )\n\n        const { band } = props.match.params\n\n        this.state = {\n            band: band,\n        }\n\n    }\n\n    static getDerivedStateFromProps( nextProps, prevState ) {\n\n        const { band } = nextProps.match.params\n        const prevBand = ( prevState ) ? prevState.band : null\n\n        // Loading state of the band\n        const { fetched, pending } = nextProps.band\n\n        if ( !fetched && !pending ) {\n\n            // typeof window === 'undefined' is used to check if it's backend\n            if ( typeof window === 'undefined' && nextProps.promises !== null ) {\n                nextProps.promises.push( nextProps.dispatch( fetchBand( band ) ) )\n                nextProps.promises.push( nextProps.dispatch( fetchEvents( band ) ) )\n            } else {\n                nextProps.dispatch( fetchBand( band ) )\n                nextProps.dispatch( fetchEvents( band ) )\n            }\n        }\n\n        return {\n            band: band\n        }\n\n    }\n\n    componentWillUnmount() {\n        // Reseting fetched and pending to false on unmount\n        return this.props.dispatch( resetBand() )\n\n    }\n\n    toggleFavourite( bandName ) {\n\n        return ( e ) => {\n\n            e.preventDefault()\n            this.props.dispatch( pushFavouriteBand( bandName ) )\n            \n        }\n\n    }\n\n    render () {\n\n        const { band, favourite, events } = this.props\n\n        const { fetched, pending } = band\n\n        if ( pending || !band.data ) {\n            return (\n                <Container>\n                    <EventsContainer className={ ( pending ) ? 'loading' : null }>\n                        <Placeholder>{ ( !fetched ) ? 'Loading...' : 'Band not found' }</Placeholder>\n                    </EventsContainer>\n                </Container>\n            )\n        } else {\n\n            const { image_url, thumb_url, name, facebook_page_url } = band.data\n\n            const inFavourites = favourite.indexOf( name ) > -1\n\n            return (\n                <div>\n                    <BandWall image={ image_url }>\n                        <BandContainer>\n                            <BandThumb>\n                                <LazyImage width={ 200 } height={ 200 } image={ thumb_url } title={ name } />\n                            </BandThumb>\n                            <BandDetails>\n                                <BandTitle>{ name }</BandTitle>\n                                { ( facebook_page_url ) ? (\n                                    <a href={ facebook_page_url } target='_blank'>\n                                        <BandButton type='button' background='#ffffff' color={ mainColor }>\n                                            <i className='icon icon-facebook' />\n                                        </BandButton>\n                                    </a>\n                                ) : null }\n                                <BandButton\n                                    type='button' background={ ( inFavourites ) ? mainColor : '#ffffff' } color={ ( inFavourites ) ? '#ffffff' : mainColor }\n                                    onClick={ this.toggleFavourite( name ) }\n                                >\n                                    <i className='icon icon-heart' />\n                                </BandButton>\n                            </BandDetails>\n                        </BandContainer>\n                    </BandWall>\n                    <Container>\n                        <Heading>Events</Heading>\n                        <EventsContainer className={ ( events.pending ) ? 'loading' : null }>\n                            {\n                                ( events.fetched && events.data.length ) ? (\n                                    events.data.map( ( event, key ) => {\n                                        return <EventThumb { ...event } key={ key } />\n                                    } )\n                                ) : (\n                                    <Placeholder>{ ( !events.fetched ) ? 'Loading...' : 'No events found' }</Placeholder>\n                                )\n                            }\n                        </EventsContainer>\n                    </Container>\n                </div>\n            )\n        }\n    }\n\n}\n","import React, { createContext } from 'react'\n\n/*\n\tUsed to collect fetch promises on backend and to resolve them\n*/\n\nconst RoutePromise = createContext( {\n\t// An array of promises to be resolved on backend before render\n\tpromises: [],\n} )\n\nexport const RoutePromiseProvider = RoutePromise.Provider\n\nexport const WithRoutePromises = ( Component ) => {\n\treturn ( props ) => {\n\t\treturn (\n\t\t\t<RoutePromise.Consumer>\n\t\t\t{\n\t\t\t\t( promises ) => {\n\t\t\t\t\treturn <Component { ...props } { ...promises } />\n\t\t\t\t}\n\t\t\t}\n\t\t\t</RoutePromise.Consumer>\n\t\t)\n\t}\n}\n"],"sourceRoot":""}
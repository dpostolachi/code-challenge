{"version":3,"sources":["webpack:///../components/common/placeholder.js","webpack:///../components/utils/routePromise.js","webpack:///../actions/events.js","webpack:///../components/blocks/eventThumb.js","webpack:///../components/pages/band.js","webpack:///../components/common/heading.js","webpack:///../components/common/lazyImage.js","webpack:///../components/common/spin.js","webpack:///../components/common/resultsContainer.js"],"names":["__webpack_require__","_media","InnnerText","styled","span","_templateObject","Container","div","_templateObject2","device","tablet","props","_react2","default","createElement","_react","RoutePromise","createContext","promises","RoutePromiseProvider","Provider","WithRoutePromises","Component","Consumer","_extends","_api","_utils","fetchEvents","bandName","dispatch","type","get","ARTISTS_URL","API_KEY","then","resp","json","data","error","payload","catch","e","_reactRouterDom","_colors","EventContainer","mobileS","mobileL","laptop","EventName","mainColor","EventDate","_templateObject3","EventCountry","_templateObject4","EventCity","_templateObject5","LinupHeading","_templateObject6","LineupBand","_templateObject7","LineupMore","_templateObject8","_props$venue","venue","name","country","region","city","datetime","latitude","longitude","lineup","description","_moment2","format","length","key","slice","map","band","Link","to","_reactRedux","_band","_events","_routePromise","EventsContainer","Spin","BandWall","image","BandContainer","_styledComponents2","BandThumb","BandDetails","BandTitle","h1","BandButton","Button","BandPage","connect","store","search","favourite","events","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","match","params","state","PureComponent","resetBand","_this2","preventDefault","pushFavouriteBand","_props","fetched","pending","_container2","className","_placeholder2","_band$data","image_url","thumb_url","facebook_page_url","inFavourites","indexOf","_lazyImage2","width","height","title","href","target","background","color","onClick","toggleFavourite","_heading2","event","_eventThumb2","nextProps","prevState","prevBand","_nextProps$band","window","push","fetchBand","Preloader","LazyImage","src","loaded","Image","updateImage","onload","setState","prevProps","_state","alt","_styledComponents","keyframes"],"mappings":"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","file":"5.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport { device } from 'components/variables/media'\n\nconst InnnerText = styled.span`\n    display: inline-block;\n    vertical-align: middle;\n    line-height: 1;\n`\n\nconst Container = styled.div`\n    display: block;\n    text-align: center;\n    color: #9E9E9E;\n    font-size: 2rem;\n    line-height: 160px;\n    padding: 0px 12px;\n    text-align: center;\n    width: 100%;\n    @media ${device.tablet} {\n      font-size: 3rem;\n    }\n`\n\nexport default ( props ) => {\n    return (\n      <Container>\n        <InnnerText { ...props } />\n      </Container>\n    )\n}\n","import React, { createContext } from 'react'\n\n/*\n\tUsed to collect fetch promises on backend and to resolve them\n*/\n\nconst RoutePromise = createContext( {\n\t// An array of promises to be resolved on backend before render\n\tpromises: [],\n} )\n\nexport const RoutePromiseProvider = RoutePromise.Provider\n\nexport const WithRoutePromises = ( Component ) => {\n\treturn ( props ) => {\n\t\treturn (\n\t\t\t<RoutePromise.Consumer>\n\t\t\t{\n\t\t\t\t( promises ) => {\n\t\t\t\t\treturn <Component { ...props } { ...promises } />\n\t\t\t\t}\n\t\t\t}\n\t\t\t</RoutePromise.Consumer>\n\t\t)\n\t}\n}\n","import { API_KEY, ARTISTS_URL } from 'settings/api'\nimport { get } from 'actions/utils'\n\n// Fetching band's events\nexport const fetchEvents = ( bandName ) => {\n\n    return ( dispatch ) => {\n\n        dispatch( {\n            type: 'EVENTS_PENDING'\n        } )\n\n        return get( `${ARTISTS_URL}/${bandName}/events/?app_id=${API_KEY}`)\n        .then( ( resp ) => resp.json() )\n        .then( ( data ) => {\n            return ( data && !data.error ) ?\n                dispatch( {\n                    type: 'EVENTS_FULFILLED',\n                    payload: data,\n                } )\n            : dispatch( {\n                type: 'EVENTS_NO_RESULT',\n                payload: null,\n            } )\n        } )\n        .catch( (e ) => {\n            return dispatch( {\n                type: 'EVENTS_REJECTED',\n            } )\n        } )\n    }\n\n}\n","import React from 'react'\nimport LazyImage from 'components/common/lazyImage'\nimport styled from 'styled-components'\nimport { Link } from 'react-router-dom'\nimport { mainColor } from 'components/variables/colors'\nimport moment from 'moment'\nimport { device } from 'components/variables/media'\n\nconst EventContainer = styled.div`\n    display: block;\n    width: 100%;\n    padding: 12px 12px 40px;\n    background: #080808;\n    min-height: 200px;\n    border-bottom: 1px solid #000;\n    &:nth-child(2n){\n        background: #121212;\n    }\n    &:hover{\n        background: #000000;\n    }\n    @media ${device.mobileS} {\n        width: 100%;\n    }\n    @media ${device.mobileL} {\n        width: 50%;\n    }\n    @media ${device.tablet} {\n        width: 33.333%;\n    }\n    @media ${device.laptop} {\n        width: 25%;\n    }\n`\n\nconst EventName = styled.div`\n    font-size: 2.6rem;\n    color: ${mainColor};\n    margin: 12px 0px;\n    line-height: 3rem;\n    text-transform: uppercase;\n`\n\nconst EventDate = styled.div`\n    display: block;\n    font-size: 1.8rem;\n    color: #E0E0E0;\n    margin: 12px 0px;\n`\n\nconst EventCountry = styled.div`\n    display: block;\n    margin: 12px 0px 6px;\n    color: #9E9E9E;\n    font-size: 1.8rem;\n`\nconst EventCity = styled.div`\n    display: block;\n    margin: 6px 0px 12px;\n    color: #757575;\n    font-size: 1.5rem;\n`\n\nconst LinupHeading = styled.div`\n    display: block;\n    font-size: 1.8rem;\n    margin: 24px 0px 6px;\n    color: #424242;\n`\n\nconst LineupBand = styled.div`\n    display: block;\n    font-size: 1.6rem;\n    line-height: 2rem;\n    > a {\n        color: #9E9E9E;\n        text-decoration: none;\n        &:hover{\n            color: ${mainColor};\n        }\n    }\n`\n\nconst LineupMore = styled.div`\n    display: block;\n    font-size: 1.6rem;\n    line-height: 2rem;\n    color: #757575;\n`\n\nexport default ( props ) => {\n    const { venue: { name, country, region, city, latitude, longitude }, datetime, description, lineup } = props\n    return (\n        <EventContainer>\n            <EventDate>{ moment( datetime ).format('D MMM') }</EventDate>\n            <EventName>{ name }</EventName>\n            <EventCountry>{ country }</EventCountry>\n            <EventCity>{ city }{ ( region ) ? `, ${region}` : null }</EventCity>\n            {\n                ( lineup.length > 1 ) ? (\n                    [\n                        <LinupHeading key={ 0 }>Lineup:</LinupHeading>,\n                        lineup.slice(0, 10).map( ( band, key ) => {\n                            return (\n                                <LineupBand key={ key }>\n                                    <Link to={ `/band/${band}` }>{ band }</Link>\n                                </LineupBand>\n                            )\n                        } ),\n                        ( lineup.length > 10 ) ? <LineupMore>and { lineup.length - 10 } more</LineupMore> : null\n                    ]\n                ) : null\n            }\n        </EventContainer>\n    )\n\n}\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { fetchBand, pushFavouriteBand, resetBand } from 'actions/band'\nimport { fetchEvents } from 'actions/events'\nimport styled, { keyframes } from 'styled-components'\nimport EventThumb from 'components/blocks/eventThumb'\nimport LazyImage from 'components/common/lazyImage'\nimport Button from 'components/common/button'\nimport Heading from 'components/common/heading'\nimport ResultsContainer from 'components/common/resultsContainer'\nimport Placeholder from 'components/common/placeholder'\nimport Container from 'components/common/container'\nimport Spin from 'components/common/spin'\nimport { mainColor, mainColorDark } from 'components/variables/colors'\nimport { device } from 'components/variables/media'\nimport { WithRoutePromises } from 'components/utils/routePromise'\n\nconst EventsContainer = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    border-radius 2px;\n    min-height: 160px;\n    position: relative;\n    margin: 0px -12px;\n    background: #F5F5F5;\n    &.loading:before{\n        display: block;\n        position: absolute;\n        content: '';\n        width: 32px;\n        height: 32px;\n        border-radius: 50%;\n        animation: ${Spin} 2s linear infinite;\n        border: 6px solid #E0E0E0;\n        border-top: 6px solid ${mainColor};\n        top: 16px;\n        left: 50%;\n        margin-left: -28px;\n    }\n    > span {\n        display: block;\n        width: 100%;\n    }\n`\n\nconst BandWall = styled.div`\n    display: block;\n    padding: 80px 0px;\n    background: ${ ( props ) => ( props.image ) ? `url(${ props.image }) #FAFAFA` : '#FAFAFA' };\n    @media ${device.tablet} {\n        margin-top: -80px;\n    }\n`\n\nconst BandContainer = styled(Container)`\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    @media ${device.tablet} {\n        flex-wrap: nowrap;\n        justify-content: flex-start;\n    }\n`\nconst BandThumb = styled.div`\n    display: block;\n    height: 200px;\n    width: 200px;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, .7);\n    order: 1;\n    @media ${device.tablet} {\n        order: 0;\n        width: 200px;\n    }\n`\n\nconst BandDetails = styled.div`\n    display: block;\n    padding: 6px 12px;\n    order: 0;\n    width: 100%;\n    margin-bottom: 24px;\n    @media ${device.tablet} {\n        order: 1;\n        width: auto;\n    }\n`\n\nconst BandTitle = styled.h1`\n    display: block;\n    color: #fff;\n    font-size: 3rem;\n    text-shadow: 0px 1px 1px rgba(0, 0, 0, .7);\n`\n\nconst BandButton = styled(Button)`\n    border-radius: 50%;\n    margin-right: 12px;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, .7);\n    height: 42px;\n    min-width: 42px;\n    line-height: 42px;\n    font-size: 2rem;\n    padding: 0px;\n`\n\n@connect( ( store ) => {\n    return {\n        search: store.search,\n        band: store.band,\n        favourite: store.favourite,\n        events: store.events,\n    }\n} )\n\n\n@WithRoutePromises\n\nexport default class BandPage extends PureComponent {\n\n    constructor ( props ) {\n        super( props )\n\n        const { band } = props.match.params\n\n        this.state = {\n            band: band,\n        }\n\n    }\n\n    static getDerivedStateFromProps( nextProps, prevState ) {\n\n        const { band } = nextProps.match.params\n        const prevBand = ( prevState ) ? prevState.band : null\n\n        // Loading state of the band\n        const { fetched, pending } = nextProps.band\n\n        if ( band !== prevBand || ( !fetched && !pending ) ) {\n\n            // typeof window === 'undefined' is used to check if it's backend\n            if ( typeof window === 'undefined' && nextProps.promises !== null ) {\n                nextProps.promises.push( nextProps.dispatch( fetchBand( band ) ) )\n                nextProps.promises.push( nextProps.dispatch( fetchEvents( band ) ) )\n            } else {\n                nextProps.dispatch( fetchBand( band ) )\n                nextProps.dispatch( fetchEvents( band ) )\n            }\n        }\n\n        return {\n            band: band\n        }\n\n    }\n\n    componentWillUnmount() {\n        // Reseting fetched and pending to false on unmount\n        return this.props.dispatch( resetBand() )\n\n    }\n\n    toggleFavourite( bandName ) {\n\n        return ( e ) => {\n\n            e.preventDefault()\n            this.props.dispatch( pushFavouriteBand( bandName ) )\n\n        }\n\n    }\n\n    render () {\n\n        const { band, favourite, events } = this.props\n\n        const { fetched, pending } = band\n\n        if ( pending || !band.data ) {\n            return (\n                <Container>\n                    <EventsContainer className={ ( pending ) ? 'loading' : null }>\n                        <Placeholder>{ ( !fetched ) ? 'Loading...' : 'Band not found' }</Placeholder>\n                    </EventsContainer>\n                </Container>\n            )\n        } else {\n\n            const { image_url, thumb_url, name, facebook_page_url } = band.data\n\n            const inFavourites = favourite.indexOf( name ) > -1\n\n            return (\n                <div>\n                    <BandWall image={ image_url }>\n                        <BandContainer>\n                            <BandThumb>\n                                <LazyImage width={ 200 } height={ 200 } image={ thumb_url } title={ name } />\n                            </BandThumb>\n                            <BandDetails>\n                                <BandTitle>{ name }</BandTitle>\n                                { ( facebook_page_url ) ? (\n                                    <a href={ facebook_page_url } target='_blank'>\n                                        <BandButton type='button' background='#ffffff' color={ mainColor }>\n                                            <i className='icon icon-facebook' />\n                                        </BandButton>\n                                    </a>\n                                ) : null }\n                                <BandButton\n                                    type='button' background={ ( inFavourites ) ? mainColor : '#ffffff' } color={ ( inFavourites ) ? '#ffffff' : mainColor }\n                                    onClick={ this.toggleFavourite( name ) }\n                                >\n                                    <i className='icon icon-heart' />\n                                </BandButton>\n                            </BandDetails>\n                        </BandContainer>\n                    </BandWall>\n                    <Container>\n                        <Heading>Events</Heading>\n                        <EventsContainer className={ ( events.pending ) ? 'loading' : null }>\n                            {\n                                ( events.fetched && events.data.length ) ? (\n                                    events.data.map( ( event, key ) => {\n                                        return <EventThumb { ...event } key={ key } />\n                                    } )\n                                ) : (\n                                    <Placeholder>{ ( !events.fetched ) ? 'Loading...' : 'No events found' }</Placeholder>\n                                )\n                            }\n                        </EventsContainer>\n                    </Container>\n                </div>\n            )\n        }\n    }\n\n}\n","import styled from 'styled-components'\nimport { device } from 'components/variables/media'\n\nexport default styled.h1`\n    font-size: 2rem;\n    font-weight: normal;\n    margin: 24px 0px;\n    @media ${device.tablet} {\n      font-size: 3rem;\n      margin: 32px 0px;\n    }\n`\n","import React, { PureComponent } from 'react'\nimport styled from 'styled-components'\n\nconst Preloader = styled.div`\n    display: block;\n    height: ${ props => ( props.height ) ? `${props.height}px` : '100px' };\n    width: ${ props => ( props.width ) ? `${props.width}px` : '100px' };\n    background: #E0E0E0;\n    display: inline-block;\n    vertical-align: middle;\n    > img {\n        position: relative;\n        max-width: 100%;\n        max-height: 100%;\n    }\n`\n\nexport default class LazyImage extends PureComponent {\n\n    constructor ( props ) {\n\n        super( props )\n\n        const { src } = props\n\n        this.state = {\n            loaded: false,\n            src: null,\n        }\n\n        this.Image = null\n\n\n\n    }\n\n    componentDidMount () {\n\n        const { image } = this.props\n        this.updateImage( image )\n\n    }\n\n    updateImage( src ) {\n\n        this.Image = new Image()\n        this.Image.onload = ( e ) => {\n            this.setState( {\n                loaded: true,\n                src: src,\n            } )\n        }\n        return this.Image.src = src\n\n    }\n\n    componentWillUnmount () {\n        this.Image.onload = null\n    }\n\n    componentDidUpdate( prevProps, prevState ) {\n\n        const { image } = this.props\n        if ( prevProps.image !== image ) {\n            this.updateImage( image )\n        }\n\n    }\n\n    render () {\n\n        const title = this.props.title || ''\n        const { loaded, src } = this.state\n\n        return (\n            <Preloader { ...this.props }>\n                { ( loaded ) ? <img src={ src } alt={ title } title={ title } /> : null }\n            </Preloader>\n        )\n    }\n\n}\n","import { keyframes } from 'styled-components'\n\nexport default keyframes`\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n`\n","import styled from 'styled-components'\nimport Spin from 'components/common/spin'\nimport { mainColor } from 'components/variables/colors'\nimport { device } from 'components/variables/media'\n\nexport default styled.div`\n    display: block;\n    border: 1px solid #e0e0e0;\n    border-radius 2px;\n    min-height: 160px;\n    position: relative;\n    margin: 32px 0px;\n    &.loading:before{\n        display: block;\n        position: absolute;\n        content: '';\n        width: 32px;\n        height: 32px;\n        border-radius: 50%;\n        animation: ${Spin} 2s linear infinite;\n        border: 6px solid #E0E0E0;\n        border-top: 6px solid ${mainColor};\n        top: 16px;\n        left: 50%;\n        margin-left: -28px;\n    }\n    @media ${device.tablet} {\n      margin: 60px 0px;\n    }\n`\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///../components/blocks/bandThumb.js","webpack:///../components/common/heading.js","webpack:///../components/common/lazyImage.js","webpack:///../components/common/placeholder.js","webpack:///../components/common/resultsContainer.js","webpack:///../components/common/spin.js","webpack:///../components/controls/searchForm.js","webpack:///../components/variables/media.js","webpack:///../node_modules/decode-uri-component/index.js","webpack:///../node_modules/query-string/index.js","webpack:///../node_modules/strict-uri-encode/index.js"],"names":["BandContainer","styled","div","device","mobileL","BandThumb","span","BandDetails","BandName","mainColor","BandUpcomingEvents","props","name","thumb_url","upcoming_event_count","h1","Preloader","height","width","LazyImage","src","state","loaded","Image","image","updateImage","onload","e","setState","prevProps","prevState","title","PureComponent","Spin","keyframes","SearchForm","form","Form","handleSubmit","mainColorDark","ReduxForm","enableReinitialize","destroyOnUnmount","history","query","initialValues","data","push","sizes","mobileS","tablet","laptop","Object","keys","reduce","acc","key"],"mappings":"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CA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA,iBAAiB,mBAAmB;AACpC;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;;;;;;;;;;;;AC7FA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,kCAAkC;;AAE5D;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7NA;AACA,6EAA6E,2CAA2C","file":"0.js","sourcesContent":["import React from 'react'\nimport LazyImage from 'components/common/lazyImage'\nimport styled from 'styled-components'\nimport { Link } from 'react-router-dom'\nimport { mainColor } from 'components/variables/colors'\nimport { device } from 'components/variables/media'\n\nconst BandContainer = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    @media ${device.mobileL}{\n        flex-wrap: nowrap;\n    }\n    &:hover{\n        background: #FAFAFA;\n    }\n`\n\nconst BandThumb = styled.span`\n    display: block;\n    height: 160px;\n    width: 100%;\n    margin: 24px 0px;\n    text-align: center;\n    @media ${device.mobileL}{\n        width: 160px;\n        margin: 0px;\n    }\n`\n\nconst BandDetails = styled.div`\n    display: block;\n    width: auto;\n    padding: 12px;\n`\n\nconst BandName = styled.span`\n    display: table;\n    font-size: 3rem;\n    a {\n        color: #212121;\n        text-decoration: none;\n        &:hover{\n            color: ${ mainColor };\n        }\n    }\n`\n\nconst BandUpcomingEvents = styled.span`\n    display: table;\n    font-size: 1.8rem;\n    margin: 12px 0px;\n    > i {\n        color: ${ mainColor };\n        font-style: normal;\n    }\n`\n\nexport default ( props ) => {\n    const {\n        name,\n        thumb_url,\n        upcoming_event_count,\n    } = props\n\n    return (\n        <BandContainer>\n            <BandThumb>\n                <Link to={ `/band/${name}` }>\n                    <LazyImage width={ 160 } height={ 160 } image={ thumb_url } title={ name } />\n                </Link>\n            </BandThumb>\n            <BandDetails>\n                <BandName>\n                    <Link to={ `/band/${name}` }>\n                        { name }\n                    </Link>\n                </BandName>\n                <BandUpcomingEvents>Upcoming events: <i>{ upcoming_event_count }</i></BandUpcomingEvents>\n            </BandDetails>\n        </BandContainer>\n    )\n\n}\n","import styled from 'styled-components'\n\nexport default styled.h1`\n    font-size: 3rem;\n    font-weight: normal;\n    margin: 32px 0px;\n`\n","import React, { PureComponent } from 'react'\nimport styled from 'styled-components'\n\n\nconst Preloader = styled.div`\n    display: block;\n    height: ${ props => ( props.height ) ? `${props.height}px` : '100px' };\n    width: ${ props => ( props.width ) ? `${props.width}px` : '100px' };\n    background: #E0E0E0;\n    display: inline-block;\n    vertical-align: middle;\n    > img {\n        position: relative;\n        max-width: 100%;\n        max-height: 100%;\n    }\n`\n\nexport default class LazyImage extends PureComponent {\n\n    constructor ( props ) {\n\n        super( props )\n\n        const { src } = props\n\n        this.state = {\n            loaded: false,\n            src: null,\n        }\n\n        this.Image = null\n\n\n\n    }\n\n    componentDidMount () {\n\n        const { image } = this.props\n        this.updateImage( image )\n\n    }\n\n    updateImage( src ) {\n\n        this.Image = new Image()\n        this.Image.onload = ( e ) => {\n            this.setState( {\n                loaded: true,\n                src: src,\n            } )\n        }\n        return this.Image.src = src\n\n    }\n\n    componentWillUnmount () {\n        this.Image.onload = null\n    }\n\n    componentDidUpdate( prevProps, prevState ) {\n\n        const { image } = this.props\n        if ( prevProps.image !== image ) {\n            this.updateImage( image )\n        }\n\n    }\n\n    render () {\n\n        const title = this.props.title || ''\n        const { loaded, src } = this.state\n\n        return (\n            <Preloader { ...this.props }>\n                { ( loaded ) ? <img src={ src } alt={ title } title={ title } /> : null }\n            </Preloader>\n        )\n    }\n\n}\n","import styled from 'styled-components'\n\nexport default styled.span`\n    display: block;\n    text-align: center;\n    color: #9E9E9E;\n    font-size: 3rem;\n    line-height: 160px;\n`\n","import styled from 'styled-components'\nimport Spin from 'components/common/spin'\nimport { mainColor } from 'components/variables/colors'\nexport default styled.div`\n    display: block;\n    border: 1px solid #e0e0e0;\n    border-radius 2px;\n    min-height: 160px;\n    position: relative;\n    margin: 60px 0px;\n    &.loading:before{\n        display: block;\n        position: absolute;\n        content: '';\n        width: 32px;\n        height: 32px;\n        border-radius: 50%;\n        animation: ${Spin} 2s linear infinite;\n        border: 6px solid #E0E0E0;\n        border-top: 6px solid ${mainColor};\n        top: 16px;\n        left: 50%;\n        margin-left: -28px;\n    }\n`\n","import { keyframes } from 'styled-components'\n\nexport default keyframes`\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport Button from 'components/common/button'\nimport { mainColor, mainColorDark } from 'components/variables/colors'\nimport { Field, reduxForm } from 'redux-form'\nimport { device } from 'components/variables/media'\n\nconst SearchForm = styled.form`\n    display: flex;\n    margin: 32px 0px;\n    border: 1px solid #e0e0e0;\n    border-radius: 2px;\n    line-height: 64px;\n    padding: 12px;\n    > input[type=\"text\"] {\n        display: inline-block;\n        vertical-align: middle;\n        width: calc( 100% - 64px );\n        line-height: 1;\n        border: none;\n        font-size: 2rem;\n        padding: 0px 12px;\n        background: #fff;\n        color: #212121;\n        @media ${device.mobileL} {\n            font-size: 2.4rem;\n        }\n    }\n`\n\nconst Form = ( props ) => {\n\n    const { handleSubmit } = props\n\n    return (\n        <SearchForm onSubmit={ handleSubmit } method='get' action='/search'>\n            <Field component='input' type=\"text\" name='query' placeholder='Try \"Maroon 5\"' />\n            <Button background={ mainColor } hoverBackground={ mainColorDark } type=\"submit\">\n                <i className=\"icon icon-search\" />\n            </Button>\n        </SearchForm>\n    )\n\n}\n\nconst ReduxForm = reduxForm( {\n    form: 'search',\n    enableReinitialize: true,\n    destroyOnUnmount: false\n} )( Form )\n\n\nexport default ( props ) => {\n\n    const { history, query } = props\n    const initialValues = {\n      query: query || '',\n    }\n\n    return <ReduxForm\n        initialValues={ initialValues }\n        onSubmit={ ( data ) => {\n            const { query } = data\n            return history.push( `/search?query=${query}` )\n        } } />\n}\n","const sizes = {\n    mobileS: '320px',\n    mobileL: '480px',\n    tablet: '768px',\n    laptop: '1024px',\n}\n\nexport const device = Object.keys( sizes )\n.reduce( ( acc, key ) => {\n    acc[ key ] = `(min-width: ${sizes[key]})`\n    return acc\n}, {} )\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, index) => {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, options),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? [encode(key, options), '[]'].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? encode(key, options) : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction extract(input) {\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({decode: true, arrayFormat: 'none'}, options);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = param.replace(/\\+/g, ' ').split('=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : decode(value, options);\n\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\treturn Object.keys(ret).sort().reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (obj, options) => {\n\tconst defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\toptions = Object.assign(defaults, options);\n\n\tif (options.sort === false) {\n\t\toptions.sort = () => {};\n\t}\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\treturn obj ? Object.keys(obj).sort(options.sort).map(key => {\n\t\tconst value = obj[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tconst result = [];\n\n\t\t\tfor (const value2 of value.slice()) {\n\t\t\t\tif (value2 === undefined) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, value2, result.length));\n\t\t\t}\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&') : '';\n};\n\nexports.parseUrl = (input, options) => {\n\treturn {\n\t\turl: input.split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n"],"sourceRoot":""}